{% extends 'pinjam/base.html' %}

{% block content %}

<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">{{ data.header }}</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group mr-2">
        <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
        <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
        </div>
    </div>
    </div>
    
    <form action="" method="post">
        <div class="form-group row">
            <label for="kode" class="col-sm-2 col-form-label">Kode Alat</label>
           <div class="col-sm-10">
              <input type="text" class="form-control" id="kode" name="kode" >
              <button class="btn btn-sm" id="btn" onclick="javascript:alert('hello hendro!')">Add</button>
            </div>
        </div>
    </form>

    <div class="table-responsive">
        <table id="working" class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Nama Alat</th>
                </tr>   
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>

</main>
{% endblock %}

{% block skrip %}
<script>
    $(document).ready(function(){
      var input = document.getElementById("kode");
      input.addEventListener("keyup", function(event){
          if (event.keyCode == 13){
              event.preventDefault();
            //   document.getElementById("btn").click();
                // alert('hello input')
            $.ajax({
                data:{
                    kd_alat : $('#kode').val()
                },
                type : 'POST',
                url : '/simpan_alat'
            })
            .done(function(data) {
            if (data.error) {
                $('#errorAlert').text(data.error).show();
                $('#successAlert').hide();
                $('#loading').hide();
            }
            else {
                $('#successAlert').text(data.name).show();
                $('#errorAlert').hide();
                $('#loading').hide();
            }
 
        });
        event.preventDefault();
          }
      })
    });
</script>  
{% endblock  %}